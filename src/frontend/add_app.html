<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <script src="https://use.fontawesome.com/releases/v5.15.2/js/all.js" data-auto-replace-svg></script>
    <link rel="stylesheet" href="assets/css/header_bar.css">
    <link rel="stylesheet" href="assets/css/add_app.css">
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
</head>
<body style="background: rgb(71, 71, 71);">
    <div id="header-bar">
        <img id="header-icon" src="assets/img/icon.png">
        <p id="header-name">Add new App</p>
        <button id="header-close" onclick="window.api.send('toMain', JSON.stringify({type: 'closeWindow', cmd: 'add_app', attributes: ''}))"><i class="fas fa-times"></i></button>
    </div>
    <div class="content-main">
        <div id="add-app-main">
            <input onclick="this.style.backgroundColor='rgb(37, 37, 37)';" id="add-app-path" required="required" type="text" placeholder="Type your File Path">
            <input onclick="this.style.backgroundColor='rgb(37, 37, 37)';" id="add-app-name" required="required" type="text" placeholder="Give your App a custom Name">
            <button id="add-app-btn" type="submit">Add App <img src="assets/img/add_layer.png"></button>
        </div>
        <script>
            document.getElementById("add-app-btn").addEventListener("click", function(){
                if(document.getElementById('add-app-name').value == "" || document.getElementById('add-app-path').value == ""){
                    document.getElementById('add-app-name').style.backgroundColor = "#ff595f";
                    document.getElementById('add-app-path').style.backgroundColor = "#ff595f";
                }
                else{
                    window.api.send('toMain', JSON.stringify({type: "DataMgr", cmd: "saveapp", attributes: JSON.stringify({name: document.getElementById('add-app-name').value, path: document.getElementById('add-app-path').value})}));
                }
            });
        </script>
    </div>
</body>
</html>